(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{51:function(e,t,a){e.exports=a(90)},56:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(27),o=a.n(i),c=(a(56),a(4)),s=a(6),l=a(7),u=a(9),m=a(8),d=a(10),b=a(20),p=a(19),h=a(3),f=(a(61),a(62),function(e){return r.a.createElement("nav",null,r.a.createElement(b.b,{to:"/weello/"},r.a.createElement("h5",null,"Weello")),r.a.createElement("div",{className:"user__block"},r.a.createElement(r.a.Fragment,null)))}),O=function(e){return{type:"ADD_TABLEAU",payload:e}},v=function(e,t){return{type:"ADD_LISTE",tableau:e,titre:t}},E=function(e,t){return{type:"ADD_CARTE",liste:e,titre:t}},j=function(e,t,a){return{type:"UPDATE_LISTE",field:e,value:t,liste:a}},C=function(e,t,a){return{type:"UPDATE_CARTE",field:e,value:t,carte:a}},T=function(e,t){return{type:"TOGGLE_CHECKBOX",carte:e,index:t}},g=function(e,t){return{type:"DELETE_ITEM",itemType:e,item:t}},_=function(e,t,a){return{type:"CHANGE_LIST_POSITION",liste:e,currentPos:t,nextPos:a}},k=function(e){return function(e){return e.length>0}(e)&&function(e){return/^[A-z0-9\s-]+$/.test(e)}(e)},I=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onChangeTitre=function(e){a.setState({titre:e.target.value})},a.onSubmitTable=function(){k(a.state.titre)&&(a.props.dispatch(O(a.state.titre)),a.props.onValidateCreation())},a.state={titre:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"dashboard__add-table__form"},r.a.createElement("input",{onChange:this.onChangeTitre,value:this.state.titre,placeholder:"Titre",className:"rounded"}),r.a.createElement("button",{onClick:this.onSubmitTable,className:"rounded"},"Cr\xe9er ce projet"))}}]),t}(r.a.Component),S=Object(h.b)()(I),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onCreateTable=function(){a.setState(function(e){return{createTable:!e.createTable}})},a.state={createTable:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.createTable?r.a.createElement(S,{onCreateTable:this.onCreateTable,onValidateCreation:this.onCreateTable}):r.a.createElement("button",{className:"dashboard__add-table__button",onClick:this.onCreateTable},"Cr\xe9er un projet"))}}]),t}(r.a.Component),A=(a(64),function(e){return r.a.createElement("div",{className:"context__menu"},e.children)}),N=a(47),P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onOpenContext=function(e){e.preventDefault(),a.setState({isContextOpen:!0})},a.onCloseContext=function(){a.setState({isContextOpen:!1})},a.state={isContextOpen:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tableau,a=this.props.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.b,{to:"/weello/projet/"+a,onContextMenu:this.onOpenContext},r.a.createElement("button",{className:"dashboard__table-select-button"},t.titre)),this.state.isContextOpen&&r.a.createElement(A,null,r.a.createElement("div",null,r.a.createElement(N.a,null),r.a.createElement("button",{onClick:function(){return e.props.dispatch(g("tableau",t))}},"Supprimer"))))}}]),t}(r.a.Component),L=Object(h.b)()(P),x=(a(65),Object(h.b)(function(e){return{tableaux:e.tableaux}})(function(e){var t=e.tableaux;return r.a.createElement("div",{className:"dashboard"},t&&t.fromId.map(function(e){return r.a.createElement("div",{className:"tableauLink__container",key:e},r.a.createElement(L,{tableau:t[e],id:e}))}),r.a.createElement(y,null))})),D=(a(66),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).onInputClick=function(){e.setState({editable:!0})},e.onSubmit=function(t){"Enter"===t.key&&k(e.state.titre)&&(e.props.dispatch(j("titre",e.state.titre,e.props.liste)),e.setState({editable:!1}))},e.onInputChange=function(t){e.setState({titre:t.target.value})},e.state={titre:"",editable:!1},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.setState({titre:this.props.liste.titre})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"cardTitle"},r.a.createElement("input",{onClick:this.onInputClick,onKeyPress:this.onSubmit,onChange:function(t){return e.onInputChange(t)},type:"text",value:this.state.titre,className:this.state.editable?"":"notEditable"}),r.a.createElement("button",null,"..."))}}]),t}(r.a.Component)),w=Object(h.b)()(D),V=function(e){var t=e.titre,a=e.onChangeCarteValue,n=e.onValidateCarteValue;return r.a.createElement("div",{className:"rounded carte__edit__component"},r.a.createElement("input",{onChange:a,value:t}),r.a.createElement("button",{onClick:n},"Enregistrer"))},M=function(e){var t=e.value;return r.a.createElement("div",{className:"progressBar__container"},r.a.createElement("div",{className:"progressBar__progress",style:{width:t+"%"}}))},B=Object(h.b)()(function(e){var t,a,n,i=e.carte,o=e.onEditSelect,c=e.listeTitre,s=e.dispatch;return i.checklist&&(a=(t=i.checklist).length,n=t.filter(function(e){return e.checked}).length),r.a.createElement("div",{className:"rounded carte__title",style:{borderColor:i.etiquette}},r.a.createElement("p",{onClick:function(){return s({type:"OPEN_POPUP",content:{carte:i,listeTitre:c}})}},i.titre),r.a.createElement("button",{className:"carte__edit-button",onClick:o},"Editer"),i.checklist&&!!i.checklist.length&&r.a.createElement(M,{value:n/a*100}))}),R=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onSaveEdition=function(){k(a.state.titre)&&(a.props.dispatch(C("titre",a.state.titre,a.props.carte)),a.setState(function(e){return{editable:!e.editable}}))},a.onEditCardValue=function(e){a.setState({titre:e.target.value})},a.onEdit=function(){a.setState({editable:!0})},a.state={editable:!1,titre:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.setState({titre:this.props.carte.titre})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.editable?r.a.createElement(V,{onChangeCarteValue:this.onEditCardValue,onValidateCarteValue:this.onSaveEdition,titre:this.state.titre}):r.a.createElement(B,{listeTitre:this.props.listeTitre,carte:this.props.carte,titre:this.state.titre,onEditSelect:this.onEdit}))}}]),t}(r.a.Component),U=Object(h.b)()(R),q=(a(67),function(e){var t=e.carte,a=e.listeTitre;return r.a.createElement("div",{className:"carte"},r.a.createElement(U,{etiquette:t.etiquette,carte:t,listeTitre:a}))}),W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onValueChange=function(e){a.setState({value:e.target.value})},a.onToggleEditable=function(){a.setState(function(e){return{editable:!e.editable}})},a.onValidateCarte=function(){k(a.state.value)&&(a.props.dispatch(E(a.props.liste,a.state.value)),a.setState({editable:!1,value:""}))},a.state={editable:!1,value:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"addAction"},this.state.editable?r.a.createElement("div",{className:"addActionInput"},r.a.createElement("input",{type:"text",onChange:this.onValueChange,value:this.state.value}),r.a.createElement("div",null,r.a.createElement("button",{className:"addButton rounded",onClick:this.onValidateCarte},"Ajouter"),r.a.createElement("button",{className:"closeButton",onClick:this.onToggleEditable},"X"))):r.a.createElement("button",{className:"cardAddAction",onClick:this.onToggleEditable},"Ajouter une action"))}}]),t}(r.a.Component),X=Object(h.b)()(W),H=function(e,t){return e[t]},F=function(e,t,a){return e[t].listes[a]},G=function(e,t,a){return e[t].listes[a].cartes},z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={status:{carteId:"",cartes:null,createCarte:!1}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onAddCarte",value:function(){this.setState(function(e){return{createCarte:!e.createCarte}})}},{key:"render",value:function(){var e=this.props,t=e.liste,a=e.cartes;return r.a.createElement("div",{className:"card rounded liste"},r.a.createElement(w,{liste:t}),r.a.createElement("div",{className:"liste_content"},a&&a.fromId.map(function(e){return r.a.createElement(r.a.Fragment,{key:e},r.a.createElement(q,{carte:a[e],listeTitre:t.titre}))})),r.a.createElement(X,{liste:t}))}}]),t}(r.a.Component),J=Object(h.b)(function(e,t){return{liste:F(e.tableaux,t.tableauId,t.listeId),cartes:G(e.tableaux,t.tableauId,t.listeId)}})(z),K=(a(68),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onChangeTitre=function(e){a.setState({titre:e.target.value})},a.onSubmitListe=function(){k(a.state.titre)&&(a.props.dispatch(v(a.props.tableau,a.state.titre)),a.setState({titre:""}),a.onSelectInput())},a.onSelectInput=function(){a.setState(function(e){return{inputSelected:!e.inputSelected}})},a.state={titre:"",inputSelected:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:this.state.inputSelected?"addListe visible rounded":"addListe hidden rounded"},r.a.createElement("input",{onFocus:this.onSelectInput,name:"liste_titre",onChange:this.onChangeTitre,value:this.state.titre,placeholder:"Ajouter une liste...",className:"rounded"}),this.state.inputSelected&&r.a.createElement("div",{className:"addListe_hidden"},r.a.createElement("button",{className:"addButton rounded",onClick:this.onSubmitListe},"Enregistrer"),r.a.createElement("button",{className:"closeButton",onClick:this.onSelectInput},"X")))}}]),t}(r.a.Component)),$=Object(h.b)()(K),Q=function(e){for(var t=document.getElementsByClassName(e),a=[],n=0;n<t.length;n++)a.push(t[n].offsetParent.offsetLeft);return a},Y=function(e,t,a){for(var n=0;n<e.length;n++)if(e[n]-a>=t&&e[n]-a<t+100||e[n]-a<=t&&e[n]-a>t-100)return n;return!1},Z=(a(69),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onMouseDown=function(e){a.setState({isMouseDown:!0,mousePositionOnClick:e.pageX})},a.onMouseUp=function(){a.setState({isMouseDown:!1,mousePositionOnClick:-1,mouseRelativePosition:0}),a.state.hoveredItemPosition>=0&&a.state.hoveredItemPosition!==a.props.position&&!1!==a.state.hoveredItemPosition&&a.props.dispatch(_(a.props.item,a.props.position,a.state.hoveredItemPosition)),a.props.reinitTranslation()},a.onMouseMove=function(e){a.state.isMouseDown&&a.setState({mouseRelativePosition:e.pageX-a.state.mousePositionOnClick,hoveredItemPosition:Y(Q("liste"),a.state.mouseRelativePosition,a.state.initialPosition.x)},function(){return a.props.itemIsHovered(a.state.hoveredItemPosition)})},a.state={initialPosition:{x:0,y:0},mousePositionOnClick:0,mouseRelativePosition:0,hoveredItemPosition:!1,isMouseDown:!1},a.draggableContainer=r.a.createRef(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({initialPosition:{x:this.draggableContainer.getBoundingClientRect().left,y:this.draggableContainer.getBoundingClientRect().top}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,ref:function(t){return e.draggableContainer=t},className:"draggable__container",style:{transform:"translateX("+(this.state.mouseRelativePosition+this.props.translation)+"px)",zIndex:this.state.isMouseDown?30:1}},this.props.children)}}]),t}(r.a.Component)),ee=Object(h.b)()(Z),te=(a(70),a(48)),ae=function(e){var t=e.carteTitre,a=e.listeTitre,n=e.onClose;return r.a.createElement("div",{className:"popup__header"},r.a.createElement("div",null,r.a.createElement("h3",null,t),r.a.createElement("span",null,"Dans la liste ",r.a.createElement("b",null,a))),r.a.createElement("button",{onClick:n,className:"close__popup"},r.a.createElement(te.a,null)))},ne=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onChangeDescription=function(e){a.setState({descriptionValue:e.target.value})},a.onSubmitDescription=function(){a.state.descriptionValue.length>0&&a.props.dispatch(C("description",a.state.descriptionValue,a.props.carte))},a.state={descriptionValue:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.setState({descriptionValue:this.props.carte.description})}},{key:"render",value:function(){var e=this.state.descriptionValue;return r.a.createElement("div",{className:"popup__description"},r.a.createElement("h3",null,"Ajouter une description"),r.a.createElement("textarea",{rows:"4",placeholder:"Ajoutez une description",onBlur:this.onSubmitDescription,onChange:this.onChangeDescription,value:e}))}}]),t}(r.a.Component),re=Object(h.b)()(ne),ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onChangeCommentaire=function(e){a.setState({commentaireValue:e.target.value})},a.onSubmitCommentaire=function(){a.state.commentaireValue.length>0&&a.props.dispatch(C("commentaire",a.state.commentaireValue,a.props.carte))},a.state={commentaireValue:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.setState({commentaireValue:this.props.carte.commentaire})}},{key:"render",value:function(){var e=this.state.commentaireValue;return r.a.createElement("div",{className:"popup__commentaire"},r.a.createElement("h3",null,"Ajouter un commentaire"),r.a.createElement("textarea",{rows:"4",placeholder:"Ecrivez un commentaire",onBlur:this.onSubmitCommentaire,onChange:this.onChangeCommentaire,value:e}))}}]),t}(r.a.Component),oe=Object(h.b)()(ie),ce=function(e){var t=e.carte,a=e.listeTitre,n=e.onClose;return r.a.createElement("div",{className:"left-panel"},r.a.createElement(ae,{listeTitre:a,carteTitre:t.titre,onClose:n}),r.a.createElement(re,{carte:t}),r.a.createElement(oe,{carte:t}))},se=["yellowgreen","darkcyan","crimson","chocolate","gold"],le=function(e){var t=e.currentEtiquette,a=e.onChangeEtiquette;return r.a.createElement("li",null,r.a.createElement("h5",null,"Etiquettes"),r.a.createElement("div",{className:"etiquettes__container"},se.map(function(e){return r.a.createElement("div",{key:e,className:e+(t===e?" selectedEtiquette":""),onClick:function(){return a(e)}})})))},ue=function(e){var t=e.item,a=e.index,n=e.onToggleCheck;return r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",id:t.titre,name:t.titre,defaultChecked:t.checked,onClick:function(){return n(a)}}),r.a.createElement("label",{htmlFor:t.titre},t.titre))},me=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onChangeItem=function(e){a.setState({elementValue:e.target.value})},a.onAddItemClick=function(){a.setState({isAddItemActive:!0})},a.onValidateAddItem=function(){0===a.state.elementValue.length?a.setState({isAddItemActive:!1}):(a.props.dispatch(C("checklist",a.state.elementValue,a.props.carte)),a.setState({elementValue:"",isAddItemActive:!1}))},a.onToggleCheck=function(e){a.props.dispatch(T(a.props.carte,e))},a.state={isAddItemActive:!1,elementValue:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("li",null,r.a.createElement("h5",null,"Checklist"),r.a.createElement("div",{className:"popup__checklist"},r.a.createElement("div",{className:"popup__checklist__items"},this.props.carte.checklist&&this.props.carte.checklist.map(function(t,a){return r.a.createElement(ue,{item:t,index:a,onToggleCheck:e.onToggleCheck})})),this.state.isAddItemActive&&r.a.createElement("input",{type:"text",value:this.state.elementValue,onChange:this.onChangeItem}),this.state.isAddItemActive&&r.a.createElement("button",{onClick:this.onValidateAddItem},"Valider"),!this.state.isAddItemActive&&r.a.createElement("button",{onClick:this.onAddItemClick},"Ajouter un element")))}}]),t}(r.a.Component),de=Object(h.b)()(me),be=a(49),pe=a.n(be),he=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onToggleCalendar=function(){a.setState(function(e){return{openCalendar:!e.openCalendar}})},a.onChangeDate=function(e){a.setState({selectedDate:e})},a.onAddEcheance=function(){a.props.dispatch(C("echeance",a.state.selectedDate,a.props.carte)),a.onToggleCalendar()},a.state={openCalendar:!1,selectedDate:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=new Date(this.props.currentEcheance);e.setDate(e.getDate()+1);var t=new Date>=e;return r.a.createElement("li",{className:"popup__echeance"},r.a.createElement("h5",null,"Echeance"),this.props.currentEcheance&&r.a.createElement("p",{className:t?"echeanceTermine":""},e.toLocaleDateString()),!this.state.openCalendar&&r.a.createElement("button",{onClick:this.onToggleCalendar},"Modifier l'\xe9cheance"),this.state.openCalendar&&r.a.createElement("button",{onClick:this.onAddEcheance},"Valider cette \xe9cheance"),this.state.openCalendar&&r.a.createElement(pe.a,{onChange:this.onChangeDate}))}}]),t}(r.a.Component),fe=Object(h.b)(function(e,t){return{currentEcheance:e.tableaux[t.carte.fromTableau].listes[t.carte.fromListe].cartes[t.carte._id].echeance||!1}})(he),Oe=Object(h.b)()(function(e){var t=e.dispatch,a=e.carte,n=e.onClose;return r.a.createElement("div",{className:"right-panel"},r.a.createElement("div",null,r.a.createElement("h3",null,"Ajouter"),r.a.createElement("ul",null,r.a.createElement(le,{currentEtiquette:a.etiquette,onChangeEtiquette:function(e){return t(C("etiquette",e,a))}}),r.a.createElement(de,{carte:a}),r.a.createElement(fe,{carte:a}))),r.a.createElement("div",null,r.a.createElement("h3",null,"Actions"),r.a.createElement("ul",{className:"suppression"},r.a.createElement("li",{onClick:function(){t(g("carte",a)),n()}},"Supprimer"))))}),ve=Object(h.b)(function(e,t){return{carteRedux:e.tableaux[t.carte.fromTableau].listes[t.carte.fromListe].cartes[t.carte._id]}})(function(e){var t=e.listeTitre,a=e.carteRedux,n=e.onClose;return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"background"}),r.a.createElement("div",{className:"content rounded"},r.a.createElement(ce,{carte:a,listeTitre:t,onClose:n}),r.a.createElement(Oe,{carte:a,onClose:n})))}),Ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).itemIsHovered=function(e,t){e<t?a.setState({hoveredItemPosition:t,hoveredItemTranslation:-20}):e>t&&a.setState({hoveredItemPosition:t,hoveredItemTranslation:20})},a.reinitTranslation=function(){a.setState({hoveredItemTranslation:0})},a.state={selectedCarte:"",tableau:{},tableauLoaded:!1,key:0,hoveredItemTranslation:0,hoveredItemPosition:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({tableau:this.props.tableaux,key:Math.random()})}},{key:"componentWillReceiveProps",value:function(e){this.setState({tableau:e.tableaux,key:Math.random()})}},{key:"render",value:function(){var e=this,t=this.props.tableau,a=t.listes.fromId.sort(function(e,a){return t.listes[e].position-t.listes[a].position});return r.a.createElement("div",{className:"tableau",key:this.state.key,onContextMenu:this.onOpenContext},t.listes&&a.map(function(a,n){return r.a.createElement(ee,{reinitTranslation:e.reinitTranslation,key:n,translation:n===e.state.hoveredItemPosition?e.state.hoveredItemTranslation:0,position:t.listes[a].position,item:t.listes[a],itemIsHovered:function(n){return e.itemIsHovered(t.listes[a].position,n)}},r.a.createElement(J,{liste:t.listes[a],listeId:a,tableauId:e.props.match.params.id}))}),r.a.createElement("div",null,r.a.createElement($,{tableau:t,tableId:this.props.match.params.id,onAddListe:this.onAddListe})),this.props.popup.isOpen&&r.a.createElement(ve,{carte:this.props.popup.carte,listeTitre:this.props.popup.listeTitre,onClose:function(){return e.props.dispatch({type:"CLOSE_POPUP"})}}))}}]),t}(r.a.Component),je=Object(h.b)(function(e,t){return{tableau:H(e.tableaux,t.match.params.id),popup:e.popup}})(Ee),Ce=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch({type:"LOAD_TABLEAUX"})}},{key:"render",value:function(){var e;return r.a.createElement("div",{className:"App"},r.a.createElement(b.a,null,r.a.createElement(f,null),r.a.createElement(p.a,(e={exact:!0,path:"/weello/"},Object(c.a)(e,"exact",!0),Object(c.a)(e,"component",x),e)),r.a.createElement(p.a,{path:"/weello/projet/:id",component:je})))}}]),t}(r.a.Component),Te=Object(h.b)()(Ce),ge=a(23),_e=a(35),ke=a(21),Ie=a(2),Se=a(50),ye=a.n(Se);function Ae(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Ne={fromId:[]},Pe=function(e){return localStorage.setItem("weelloTableaux",JSON.stringify(e)),e},Le=function(){return ye()()},xe=function(e,t){var a=t.field,n=t.carte,r=t.value;return"checklist"===a?function(e,t,a){return Object(Ie.a)({},e,Object(c.a)({},t.fromTableau,Object(Ie.a)({},e[t.fromTableau],{listes:Object(Ie.a)({},e[t.fromTableau].listes,Object(c.a)({},t.fromListe,Object(Ie.a)({},e[t.fromTableau].listes[t.fromListe],{cartes:Object(Ie.a)({},e[t.fromTableau].listes[t.fromListe].cartes,Object(c.a)({},t._id,Object(Ie.a)({},e[t.fromTableau].listes[t.fromListe].cartes[t._id],{checklist:[].concat(Object(ke.a)(e[t.fromTableau].listes[t.fromListe].cartes[t._id].checklist),[{titre:a,checked:!1}])})))})))})))}(e,n,r):(console.log(a,n,r),Object(Ie.a)({},e,Object(c.a)({},n.fromTableau,Object(Ie.a)({},e[n.fromTableau],{listes:Object(Ie.a)({},e[n.fromTableau].listes,Object(c.a)({},n.fromListe,Object(Ie.a)({},e[n.fromTableau].listes[n.fromListe],{cartes:Object(Ie.a)({},e[n.fromTableau].listes[n.fromListe].cartes,Object(c.a)({},n._id,Object(Ie.a)({},e[n.fromTableau].listes[n.fromListe].cartes[n._id],Object(c.a)({},a,r))))})))}))))},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TABLEAU":return Pe(function(e,t){var a,n=t.payload,r=Le();return Object(Ie.a)({},e,(a={},Object(c.a)(a,r,{titre:n,listes:{fromId:[]},_id:r}),Object(c.a)(a,"fromId",[].concat(Object(ke.a)(e.fromId),[r])),a))}(e,t));case"ADD_LISTE":return Pe(function(e,t){var a,n=t.titre,r=t.tableau,i=Le();return Object(Ie.a)({},e,Object(c.a)({},r._id,Object(Ie.a)({},e[r._id],{listes:Object(Ie.a)({},e[r._id].listes,(a={},Object(c.a)(a,i,{titre:n,cartes:{fromId:[]},fromTableau:r._id,_id:i,position:e[r._id].listes.fromId.length}),Object(c.a)(a,"fromId",[].concat(Object(ke.a)(e[r._id].listes.fromId),[i])),a))})))}(e,t));case"ADD_CARTE":return Pe(function(e,t){var a,n=t.titre,r=t.liste,i=Le();return Object(Ie.a)({},e,Object(c.a)({},r.fromTableau,Object(Ie.a)({},e[r.fromTableau],{listes:Object(Ie.a)({},e[r.fromTableau].listes,Object(c.a)({},r._id,Object(Ie.a)({},e[r.fromTableau].listes[r._id],{cartes:Object(Ie.a)({},e[r.fromTableau].listes[r._id].cartes,(a={},Object(c.a)(a,i,{_id:i,titre:n,fromTableau:r.fromTableau,fromListe:r._id,etiquette:"rgb(250, 250, 250)",checklist:[],position:e[r.fromTableau].listes[r._id].cartes.fromId.length}),Object(c.a)(a,"fromId",[].concat(Object(ke.a)(e[r.fromTableau].listes[r._id].cartes.fromId),[i])),a))})))})))}(e,t));case"LOAD_TABLEAUX":return JSON.parse(localStorage.getItem("weelloTableaux"))||e;case"UPDATE_LISTE":return Pe(function(e,t){var a=t.field,n=t.liste,r=t.value;return Object(Ie.a)({},e,Object(c.a)({},n.fromTableau,Object(Ie.a)({},e[n.fromTableau],{listes:Object(Ie.a)({},e[n.fromTableau].listes,Object(c.a)({},n._id,Object(Ie.a)({},e[n.fromTableau].listes[n._id],Object(c.a)({},a,r))))})))}(e,t));case"UPDATE_CARTE":return Pe(xe(e,t));case"TOGGLE_CHECKBOX":return Pe(function(e,t){var a=t.carte,n=t.index,r=Object(ke.a)(e[a.fromTableau].listes[a.fromListe].cartes[a._id].checklist);return r[n].checked=!r[n].checked,Object(Ie.a)({},e,Object(c.a)({},a.fromTableau,Object(Ie.a)({},e[a.fromTableau],{listes:Object(Ie.a)({},e[a.fromTableau].listes,Object(c.a)({},a.fromListe,Object(Ie.a)({},e[a.fromTableau].listes[a.fromListe],{cartes:Object(Ie.a)({},e[a.fromTableau].listes[a.fromListe].cartes,Object(c.a)({},a._id,Object(Ie.a)({},e[a.fromTableau].listes[a.fromListe].cartes[a._id],{checklist:r})))})))})))}(e,t));case"CHANGE_LIST_POSITION":return Pe(function(e,t){var a,n=t.liste,r=t.currentPos,i=t.nextPos,o=e[n.fromTableau].listes.fromId.filter(function(t){return e[n.fromTableau].listes[t].position===i})[0];return Object(Ie.a)({},e,Object(c.a)({},n.fromTableau,Object(Ie.a)({},e[n.fromTableau],{listes:Object(Ie.a)({},e[n.fromTableau].listes,(a={},Object(c.a)(a,n._id,Object(Ie.a)({},e[n.fromTableau].listes[n._id],{position:i})),Object(c.a)(a,o,Object(Ie.a)({},e[n.fromTableau].listes[o],{position:r})),a))})))}(e,t));case"DELETE_ITEM":return Pe(function(e,t,a){switch(e){case"tableau":var n=a._id,r=(t[n],Object(_e.a)(t,[n].map(Ae))),i=t.fromId.filter(function(e){return e!==a._id});return Object(Ie.a)({},r,{fromId:i});case"carte":var o=a.fromTableau,s=a.fromListe,l=a._id,u=t[o].listes[s].cartes,m=(u[l],Object(_e.a)(u,[l].map(Ae))),d=t[o].listes[s].cartes.fromId.filter(function(e){return e!==l});return Object(Ie.a)({},t,Object(c.a)({},a.fromTableau,Object(Ie.a)({},t[a.fromTableau],{listes:Object(Ie.a)({},t[a.fromTableau].listes,Object(c.a)({},a.fromListe,Object(Ie.a)({},t[a.fromTableau].listes[a.fromListe],{cartes:Object(Ie.a)({},m,{fromId:d})})))})));default:return t}}(t.itemType,e,t.item));default:return e}},we={isOpen:!1},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0,a=Object(Ie.a)({},e);switch(t.type){case"OPEN_POPUP":return a.isOpen=!0,a.carte=t.content.carte,a.listeTitre=t.content.listeTitre,a;case"CLOSE_POPUP":return a.isOpen=!1,a;default:return e}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Me=Object(ge.c)(Object(ge.b)({tableaux:De,popup:Ve}));o.a.render(r.a.createElement(h.a,{store:Me},r.a.createElement(Te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[51,1,2]]]);
//# sourceMappingURL=main.e7478692.chunk.js.map